<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="stay hungry,stay foolish(进取源自保持饥饿，成功在于守住初心)">
<meta property="og:type" content="website">
<meta property="og:title" content="andyFun">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="andyFun">
<meta property="og:description" content="stay hungry,stay foolish(进取源自保持饥饿，成功在于守住初心)">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="andy">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>andyFun</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">andyFun</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">记录生活的点点滴滴</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">50</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">10</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">67</span></a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/10/10/IOS/ios-nsstring/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="andy">
      <meta itemprop="description" content="stay hungry,stay foolish(进取源自保持饥饿，成功在于守住初心)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="andyFun">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/10/IOS/ios-nsstring/" class="post-title-link" itemprop="url">ios_nsstring</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-10-10 15:33:37 / 修改时间：15:46:24" itemprop="dateCreated datePublished" datetime="2023-10-10T15:33:37+08:00">2023-10-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/IOS/" itemprop="url" rel="index"><span itemprop="name">IOS</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>239</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <font size="2.9">

<h4 id="NSString"><a href="#NSString" class="headerlink" title="NSString"></a>NSString</h4><p><code>NSString</code> 是一个数据类型，保存字符串，本质是一个类</p>
<p><code>NSString</code>对象的创建方式，存储在堆区<br>占位符为 <code>%a</code>,打印 <code>指针变量</code> 指向的对象</p>
<p>占位符为<code>%p</code>,打印指针变量的值</p>
<p>快捷创建方式，指针存储在栈， <code>对象存储</code>在常量区</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">NSString *str = @&quot;ccc&quot;；</span><br><span class="line">NSLog(@&quot;沙盒主目录 home = %@ &quot;,home);</span><br><span class="line">NSLog(@&quot;沙盒主目录 home = %p &quot;,home);</span><br><span class="line"></span><br></pre></td></tr></table></figure>


</font>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/10/08/IOS/ios-block/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="andy">
      <meta itemprop="description" content="stay hungry,stay foolish(进取源自保持饥饿，成功在于守住初心)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="andyFun">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/08/IOS/ios-block/" class="post-title-link" itemprop="url">ios_block</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-08 23:07:55" itemprop="dateCreated datePublished" datetime="2023-10-08T23:07:55+08:00">2023-10-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-10 15:31:55" itemprop="dateModified" datetime="2023-10-10T15:31:55+08:00">2023-10-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/IOS/" itemprop="url" rel="index"><span itemprop="name">IOS</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <font size="2.9">

<h4 id="block"><a href="#block" class="headerlink" title="block"></a>block</h4><blockquote>
<p>Block：带有自动变量（局部变量）的匿名函数。它是C语言的扩充功能。之所以是拓展，是因为C语言不允许存在这样匿名函数。</p>
</blockquote>
<blockquote>
<p>1.1 匿名函数<br>匿名函数是指不带函数名称函数。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> count)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> result = func(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//也可以通过指针调用函数，看起来没用到函数名：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> result = (*funcptr)(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//实际，在赋值给函数指针时，必须通过函数的名称才能获得该函数的地址。完整的步骤应该是</span></span><br><span class="line"><span class="keyword">int</span> (*funcptr)(<span class="keyword">int</span>) = &amp;func;</span><br><span class="line"><span class="keyword">int</span> result = (*funcptr)(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>而通过Block，就能够使用匿名函数，即不带函数名称的函数。</p>
<blockquote>
<p>1.2 捕获外部变量，看一个经典block面试题：</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> val = <span class="number">10</span>; </span><br><span class="line"><span class="keyword">void</span> (^blk)(<span class="keyword">void</span>) = ^&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;val=%d\n&quot;</span>,val);</span><br><span class="line">&#125;; </span><br><span class="line">val = <span class="number">2</span>; </span><br><span class="line">blk(); </span><br><span class="line"></span><br><span class="line"><span class="comment">//上面这段代码，输出值是：val = 10，而不是2。</span></span><br><span class="line"><span class="comment">//block 在实现时就会对它引用到的它所在方法中定义的栈变量进行一次只读拷贝，然后在 block 块内使用该只读拷贝；换句话说block截获自动变量的瞬时值；或者block捕获的是自动变量的副本。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>解决block不能修改自动变量的值，这一问题的另外一个办法是使用__block修饰符。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">__block <span class="keyword">int</span> val = <span class="number">10</span>;  </span><br><span class="line"><span class="keyword">void</span> (^blk)(<span class="keyword">void</span>) = ^&#123;<span class="built_in">printf</span>(<span class="string">&quot;val=%d\n&quot;</span>,val);&#125;;  </span><br><span class="line">val = <span class="number">2</span>;  </span><br><span class="line">blk(); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//上面的代码，跟第一个代码段相比只是多了一个__block修饰符。但是输出结果确是2。</span></span><br></pre></td></tr></table></figure>

<p>2.1   Block声明及定义语法，及其变形<br>(1) 标准声明与定义</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">return_type (^blockName)(var_type) = ^return_type (var_type varName) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line">blockName(var);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 当返回类型为void</span></span><br><span class="line"><span class="keyword">void</span> (^blockName)(var_type) = ^<span class="keyword">void</span> (var_type varName) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line">blockName(var);</span><br><span class="line"><span class="comment">//省略void 写法</span></span><br><span class="line"><span class="keyword">void</span> (^blockName)(var_type) = ^(var_type varName) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line">blockName(var);</span><br><span class="line"><span class="comment">//https://xiaozhuanlan.com/topic/2953746180</span></span><br><span class="line"> <span class="comment">//当返回类型和参数类型都为void</span></span><br><span class="line"><span class="keyword">void</span> (^blockName)(<span class="keyword">void</span>) = ^&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line">blockName();</span><br><span class="line"></span><br><span class="line"><span class="comment">//匿名Block</span></span><br><span class="line"><span class="comment">//Block实现时，等号右边就是一个匿名Block，它没有blockName，称之为匿名Block：</span></span><br><span class="line">^return_type (var_type varName)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



</font>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/09/14/JavaWeb/apache/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="andy">
      <meta itemprop="description" content="stay hungry,stay foolish(进取源自保持饥饿，成功在于守住初心)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="andyFun">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/09/14/JavaWeb/apache/" class="post-title-link" itemprop="url">apache</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-09-14 10:24:14 / 修改时间：10:35:18" itemprop="dateCreated datePublished" datetime="2023-09-14T10:24:14+08:00">2023-09-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaWeb/" itemprop="url" rel="index"><span itemprop="name">JavaWeb</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>53</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <font size="2.9">

<h4 id="mac-apache"><a href="#mac-apache" class="headerlink" title="mac apache"></a>mac apache</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">vim  /etc/apache2/httpd.conf</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">port: 80</span> </span><br><span class="line"></span><br></pre></td></tr></table></figure>




</font>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/08/30/IOS/ioshotfix/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="andy">
      <meta itemprop="description" content="stay hungry,stay foolish(进取源自保持饥饿，成功在于守住初心)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="andyFun">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/08/30/IOS/ioshotfix/" class="post-title-link" itemprop="url">ioshotfix</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-08-30 15:43:16" itemprop="dateCreated datePublished" datetime="2023-08-30T15:43:16+08:00">2023-08-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-10 18:59:57" itemprop="dateModified" datetime="2023-10-10T18:59:57+08:00">2023-10-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/IOS/" itemprop="url" rel="index"><span itemprop="name">IOS</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>589</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <font size="2.9">


<h4 id="iOS热更新"><a href="#iOS热更新" class="headerlink" title="iOS热更新"></a>iOS热更新</h4><blockquote>
<p>一般都是 js/lua来搞的.</p>
</blockquote>
<p> jspatch(过审核版本收费)  ttpatch , waxSDK(阿里)，momo(MLN)</p>
<blockquote>
<p>sot 虚拟机</p>
</blockquote>
<blockquote>
<p>wax (lua)</p>
</blockquote>
<p> “愤怒的小鸟”的用法和热更的用法是两个性质，它是使用Wax，脚本是带在App的bundle里运行的，不是在Document里运行的。这是符合苹果的要求的。</p>
<p><code>与 JSPatch 不同的是，lua热更新技术主要的实现方式是把动态脚本下载之后，让动态脚本调用游戏引擎提供的接口实现缺陷修复。 与 JSPatch 不同的是，动态脚本并不能任意调用全部原生代码，而是只能根据游戏引擎提供的接口调用相关功能</code></p>
<h4 id="主流代表"><a href="#主流代表" class="headerlink" title="主流代表"></a>主流代表</h4><p> jspatch  安全考虑，安全漏洞</p>
<p><strong><a target="_blank" rel="noopener" href="http://www.jspatch.com/">http://www.jspatch.com</a></strong> </p>
<p><strong><a target="_blank" rel="noopener" href="https://github.com/bang590/JSPatch">https://github.com/bang590/JSPatch</a></strong></p>
<blockquote>
<p>热更新时，从服务器拉去js脚本。理论上可以修改和新建所有的模块，但是不建议这样做。建议用来做紧急的小需求和 修复严重的线上bug。官网说： JSPatch 平台 SDK 1.7.2 以上版本可以通过苹果审核，可以正常使用。Github 开源版本暂不可用</p>
</blockquote>
<h4 id="dylib"><a href="#dylib" class="headerlink" title="dylib"></a>dylib</h4><blockquote>
<p>可以做demo用，真实使用的时候会被苹果禁止。因为 打包发到AppStore的ipa安装包 里的每个动态库 都有唯一的编码，iOS系统会进行验证，所以动态通过网络获取 新的动态库 也用不了。</p>
</blockquote>
</font>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/08/24/JavaWeb/mysql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="andy">
      <meta itemprop="description" content="stay hungry,stay foolish(进取源自保持饥饿，成功在于守住初心)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="andyFun">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/08/24/JavaWeb/mysql/" class="post-title-link" itemprop="url">mysql</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-08-24 19:13:27" itemprop="dateCreated datePublished" datetime="2023-08-24T19:13:27+08:00">2023-08-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-09-15 23:48:15" itemprop="dateModified" datetime="2023-09-15T23:48:15+08:00">2023-09-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaWeb/" itemprop="url" rel="index"><span itemprop="name">JavaWeb</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <font size="2.9">

<h4 id="mysql-启动"><a href="#mysql-启动" class="headerlink" title="mysql 启动"></a>mysql 启动</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1. start.server start</span><br><span class="line"></span><br><span class="line">sudo /usr/local/mysql/support-files/mysql.server start</span><br><span class="line"></span><br><span class="line">2. mysql -u  root -p password</span><br><span class="line"></span><br><span class="line"> eg: mysql -u root -p 12345678</span><br><span class="line"></span><br><span class="line">3. mac 默认安装位置</span><br><span class="line">   /usr/local/mysql/</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="sql"><a href="#sql" class="headerlink" title="sql"></a>sql</h4><ol>
<li>显示数据库列表。</li>
</ol>
<p>show databases;</p>
<p>缺省有两个数据库：mysql和test。 mysql库存放着mysql的系统和用户权限信息，我们改密码和新增用户，实际上就是对这个库进行操作。</p>
<ol start="2">
<li>显示库中的数据表：</li>
</ol>
<p>use mysql;</p>
<p>show tables;</p>
<ol start="3">
<li>显示数据表的结构：</li>
</ol>
<p>describe 表名;</p>
<ol start="4">
<li>建库与删库：</li>
</ol>
<p>create database 库名;</p>
<p>drop database 库名;</p>
<ol start="5">
<li>建表：</li>
</ol>
<p>use 库名;</p>
<p>create table 表名(字段列表);</p>
<p>drop table 表名;</p>
<ol start="6">
<li>清空表中记录：</li>
</ol>
<p>delete from 表名;</p>
<ol start="7">
<li>显示表中的记录：</li>
</ol>
<p>select * from 表名;</p>
<ol start="8">
<li>查询数据库中的重复数据 （ | b71edca50989258e68fadcc3cb9bc689 | 2 | ）</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">select</span> firstMD5, <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">as</span> count <span class="keyword">from</span> MIFit_Image <span class="keyword">group</span> <span class="keyword">by</span> firstMD5 <span class="keyword">having</span> count <span class="operator">&gt;</span> <span class="number">1</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol start="9">
<li>查询重复数据的其它字段的数据</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">select</span> folderName, path, firstMD5 <span class="keyword">from</span> MIFit_Image <span class="keyword">where</span> firstMD5 <span class="keyword">in</span> (<span class="keyword">select</span> firstMD5 <span class="keyword">from</span> MIFit_Image <span class="keyword">group</span> <span class="keyword">by</span> firstMD5 <span class="keyword">having</span> <span class="built_in">count</span>(firstMD5) <span class="operator">&gt;</span> <span class="number">1</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="10">
<li>更新数据</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">update MIFit_Image <span class="keyword">set</span> folderName <span class="operator">=</span><span class="string">&#x27;Mary&#x27;</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="11">
<li>删除数据</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> MIFit_Image <span class="keyword">where</span> folderName <span class="operator">=</span> <span class="string">&#x27;test&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol start="12">
<li> 导入sql文件：source 『将.sql文件拖拽到这里，终端会自动显示其文件目录』（本文需要的.sql文件在文末服务端项目代码的db/mydb.sql目录）</li>
</ol>
<h2 id="mysql-修改密码"><a href="#mysql-修改密码" class="headerlink" title="mysql 修改密码"></a>mysql 修改密码</h2><ol>
<li><p> 用SET PASSWORD命令<br>格式：mysql&gt; set password for 用户名@localhost=‘新密码’;<br>例子：mysql&gt; set password for root@localhost=’123456’;</p>
</li>
<li><p>用mysqladmin<br>格式：mysqladmin -u用户名 -p旧密码 password 新密码<br>例子：mysqladmin -uroot -p123456 password 123</p>
</li>
</ol>
</font>








      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/07/12/Android/frida-android/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="andy">
      <meta itemprop="description" content="stay hungry,stay foolish(进取源自保持饥饿，成功在于守住初心)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="andyFun">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/12/Android/frida-android/" class="post-title-link" itemprop="url">frida</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-07-12 11:36:17 / 修改时间：14:13:42" itemprop="dateCreated datePublished" datetime="2023-07-12T11:36:17+08:00">2023-07-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <font size='2.8'>

<h5 id="frida-android"><a href="#frida-android" class="headerlink" title="frida-android"></a>frida-android</h5><p><code>注意 ios ,android 都可以识别 ，每次电脑usb 插一个</code></p>
<ol>
<li>原生启动</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">frida-ps -help</span><br><span class="line"></span><br><span class="line">frida-ps -U -a  #显示包名 -U usb to device</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">注入脚本</span></span><br><span class="line">frida -U -f com.ztgame.bob.kuaishou -l test.js</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Java.perform(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="keyword">var</span> Activity = Java.use(<span class="string">&quot;android.app.Activity&quot;</span>);</span><br><span class="line"> <span class="comment">//如果没有同名函数，hook这个函数</span></span><br><span class="line">  Activity.onResume.implementation = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  send(<span class="string">&quot;activity: &quot;</span>+ <span class="built_in">this</span> + <span class="string">&quot;, onResume!!!&quot;</span>);</span><br><span class="line">  <span class="built_in">this</span>.onResume();</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="comment">//如果有同名函数，需要用overload和所有参数类型来确定到底是哪个函数</span></span><br><span class="line"> Activity.startActivity.overload(<span class="string">&#x27;android.content.Intent&#x27;</span>).implementation = <span class="function"><span class="keyword">function</span>(<span class="params">intent</span>)</span>&#123;</span><br><span class="line">  send(<span class="string">&quot;activity: &quot;</span>+ <span class="built_in">this</span> + <span class="string">&quot;, startActivity!!!&quot;</span>);</span><br><span class="line">  <span class="built_in">this</span>.startActivity(intent);</span><br><span class="line"> &#125;;</span><br><span class="line"> Activity.startActivity.overload(<span class="string">&#x27;android.content.Intent&#x27;</span>, <span class="string">&#x27;android.os.Bundle&#x27;</span>).implementation = <span class="function"><span class="keyword">function</span>(<span class="params">intent, bundle</span>)</span>&#123;</span><br><span class="line">  send(<span class="string">&quot;activity: &quot;</span>+ <span class="built_in">this</span> + <span class="string">&quot;, startActivity!!!&quot;</span>);</span><br><span class="line">  <span class="built_in">this</span>.startActivity(intent, bundle);</span><br><span class="line"> &#125;;</span><br><span class="line">     </span><br><span class="line"> <span class="comment">//hook构造函数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  var ZTLib = Java.use(&quot;com.kwai.sdk.subbus.pay.model.KwaiPayInfo&quot;);</span></span><br><span class="line"><span class="comment">//  ZTLib.toString.overload().implementation = function()&#123;</span></span><br><span class="line"><span class="comment">//      var  result = ZTLib.toString();</span></span><br><span class="line"><span class="comment">//      console.log(&quot;result | &quot;+result);</span></span><br><span class="line"><span class="comment">//      return ZTLib.toString();</span></span><br><span class="line"><span class="comment">//  &#125;;</span></span><br><span class="line"></span><br><span class="line">hookGetGiantDataLog()</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hookGetGiantDataLog</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> GADCLog = Java.use(<span class="string">&quot;com.ztgame.mobileappsdk.datasdk.internal.GADCLog&quot;</span>);</span><br><span class="line">    GADCLog.open(<span class="literal">true</span>);</span><br><span class="line">    GADCLog.i.overload(<span class="string">&#x27;java.lang.String&#x27;</span>,<span class="string">&#x27;[Ljava.lang.Object;&#x27;</span>).implementation = <span class="function"><span class="keyword">function</span>(<span class="params">p1,p2</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;[SDK数据]Called -GADCLog(i) msg = &quot;</span>+p1+<span class="string">&quot;\r\n &quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// GADCLog.d.overload(&#x27;java.lang.String&#x27;,&#x27;[Ljava.lang.Object;&#x27;).implementation = function(p1,p2) &#123;</span></span><br><span class="line">    <span class="comment">// console.log(&quot;[SDK数据]Called -GADCLog(d) msg = &quot;+p1 +p2 +&quot;\r\n &quot;);</span></span><br><span class="line">    <span class="comment">// &#125;;</span></span><br><span class="line">    <span class="comment">// GADCLog.d.overload(&#x27;java.lang.Throwable&#x27;,&#x27;java.lang.String&#x27;,&#x27;[Ljava.lang.Object;&#x27;).implementation = function(p1,p2,p3) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;[SDK数据]Called -GADCLog(d) msg = &quot;+p2  +&quot;\r\n &quot;);</span></span><br><span class="line">    <span class="comment">//     &#125;;</span></span><br><span class="line">    GADCLog.v.implementation = <span class="function"><span class="keyword">function</span>(<span class="params">p1</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;[SDK数据]Called -GADCLog(v) msg = &quot;</span>+p1  +<span class="string">&quot;\r\n &quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    GADCLog.e.overload(<span class="string">&#x27;java.lang.String&#x27;</span>,<span class="string">&#x27;[Ljava.lang.Object;&#x27;</span>).implementation = <span class="function"><span class="keyword">function</span>(<span class="params">p1,p2</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;[SDK数据]Called -GADCLog(e) msg = &quot;</span>+p1  +<span class="string">&quot;\r\n &quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    GADCLog.e.overload(<span class="string">&#x27;java.lang.Throwable&#x27;</span>,<span class="string">&#x27;java.lang.String&#x27;</span>,<span class="string">&#x27;[Ljava.lang.Object;&#x27;</span>).implementation = <span class="function"><span class="keyword">function</span>(<span class="params">p1,p2,p3</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;[SDK数据]Called -GADCLog(e) msg = &quot;</span>+p2  +<span class="string">&quot;\r\n &quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<ol start="2">
<li>第三方 插件 启动</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">./androidhook  -p com.ztgame.bob.kuaishou -s frida-scripts/android_main.js</span><br><span class="line"><span class="meta">#</span><span class="bash"> match 15.1.2 <span class="string">&#x27;s version</span></span> </span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="string"> one device</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>出现错误 不能匹配，试试端口转发</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">adb forward tcp:27042 tcp:27042</span><br><span class="line"></span><br></pre></td></tr></table></figure>




<font>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/04/06/Linux/Linux-command/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="andy">
      <meta itemprop="description" content="stay hungry,stay foolish(进取源自保持饥饿，成功在于守住初心)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="andyFun">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/06/Linux/Linux-command/" class="post-title-link" itemprop="url">Linux_command</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-04-06 16:19:21 / 修改时间：16:36:04" itemprop="dateCreated datePublished" datetime="2023-04-06T16:19:21+08:00">2023-04-06</time>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.6k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <font size="2.9">

<h4 id="Linux-command"><a href="#Linux-command" class="headerlink" title="Linux_command"></a>Linux_command</h4><blockquote>
<p>find 用于搜索文件</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">find /home/book/dira/ -name <span class="string">&quot;test1.txt&quot;</span></span><br><span class="line">find /home/book/dira/ -name <span class="string">&quot;*.txt&quot;</span></span><br><span class="line">find /home/book/dira/ -name <span class="string">&quot;dira&quot;</span></span><br><span class="line">find . -name <span class="string">&quot;*.txt&quot;</span></span><br><span class="line"><span class="comment"># 默认是当前路径</span></span><br><span class="line">find -name <span class="string">&quot;*.txt&quot;</span></span><br></pre></td></tr></table></figure>


<blockquote>
<p>grep 查找文件中符合条件的字符串</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#在test1.txt中查找字符串abc,-n 表示显示行号</span></span><br><span class="line">grep -n <span class="string">&quot;abc&quot;</span> test1.txt</span><br><span class="line"><span class="comment">#当前目录下递归查找字符串</span></span><br><span class="line">grep -R <span class="string">&quot;abc&quot;</span> .</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>文件压缩命令</p>
</blockquote>
<p>tar 用于打包压缩和解压</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">c(create)：表示创建用来生成文件包 。</span><br><span class="line">-x：表示提取，从文件包中提取文件。</span><br><span class="line">-t：可以查看压缩的文件。</span><br><span class="line">-z：使用 gzip 方式进行处理，它与 <span class="string">&quot;c&quot;</span> 结合就表示压缩，与 <span class="string">&quot;x&quot;</span> 结合就表示解压缩。</span><br><span class="line">-j：使用 bzip2 方式进行处理，它与 <span class="string">&quot;c&quot;</span> 结合就表示压缩，与”x“结合就表示解压缩。</span><br><span class="line">-v(verbose)：详细报告 tar 处理的信息。</span><br><span class="line">-f(file)：表示文件，后面接着一个文件名。 -C &lt;指定目录&gt; 解压到指定目录。</span><br><span class="line"></span><br><span class="line">把目录 dira 压缩、打包为 dira.tar.gz 文件</span><br><span class="line">tar czvf dira.tar.gz dira</span><br><span class="line"><span class="comment">#解压到当前目录</span></span><br><span class="line">tar xzvf dira.tar.gz</span><br><span class="line"><span class="comment">#解压到 /home/book</span></span><br><span class="line">tar xzvf dira.tar.gz -C /home/book</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="网络管理相关命令"><a href="#网络管理相关命令" class="headerlink" title="网络管理相关命令"></a>网络管理相关命令</h4><blockquote>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"> ping 用于测试主机之间网络的连通性</span><br><span class="line"> ping www.baidu.com</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">wget 用于在网络上下载文件</span><br><span class="line"></span><br><span class="line">wget http://</span><br><span class="line"></span><br><span class="line">curl 用于在网络上下载文件</span><br><span class="line"></span><br><span class="line">curl https://</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ifconfig 用于查看网络情况</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="软件安装相关命令"><a href="#软件安装相关命令" class="headerlink" title="软件安装相关命令"></a>软件安装相关命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">搜索软件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo apt search 关键字</span><br><span class="line">安装软件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo apt install 软件包名</span><br><span class="line">卸载软件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#卸载软件</span></span><br><span class="line">sudo apt remove 软件包名</span><br><span class="line"><span class="comment">#卸载软件并删除配置文件</span></span><br><span class="line">sudo apt remove 软件包名 --purge</span><br><span class="line"><span class="comment">#卸载软件并移除软件依赖</span></span><br><span class="line">sudo apt autoremove 软件包名</span><br><span class="line">软件更新</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo apt upgrade 软件包名</span><br><span class="line"><span class="comment"># 升级所有可以升级的软件</span></span><br><span class="line">sudo apt upgrade</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="系统管理相关命令"><a href="#系统管理相关命令" class="headerlink" title="系统管理相关命令"></a>系统管理相关命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">useradd 用于添加用户</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">useradd hello</span><br><span class="line">passwd 用于设置或者修改用户密码</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">passwd hello</span><br><span class="line">userdel 用于删除用户</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># -r 选项可以删除用户家目录</span></span><br><span class="line">sudo userdel username</span><br><span class="line">usermod 用来修改用户帐号的各项设定</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#最常用于将用户加入指定的组</span></span><br><span class="line"><span class="comment">#将用户myfreax添加到games组</span></span><br><span class="line"><span class="comment">#应该始终使用-a追加选项。如果省略-a选项，则用户将从-G选项之后未列出的组中删除</span></span><br><span class="line">sudo usermod -a -G games myfreax</span><br><span class="line">free 用于查看系统内存</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">free -m <span class="comment">#以 MB 为单位</span></span><br><span class="line">free -g <span class="comment">#以 GB 为单位</span></span><br><span class="line">whoami 用于查看当前用户名</span><br><span class="line"></span><br><span class="line">ps 用于查看进程信息</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ps -a <span class="comment">#查看所有进程</span></span><br><span class="line">ps -e <span class="comment">#查看除内核以外的所有进程</span></span><br><span class="line">ps -f <span class="comment">#全格式输出</span></span><br><span class="line">top 动态查看进程信息</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</font>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/04/05/Android/android-system/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="andy">
      <meta itemprop="description" content="stay hungry,stay foolish(进取源自保持饥饿，成功在于守住初心)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="andyFun">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/05/Android/android-system/" class="post-title-link" itemprop="url">android_system</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-04-05 17:03:31 / 修改时间：18:11:26" itemprop="dateCreated datePublished" datetime="2023-04-05T17:03:31+08:00">2023-04-05</time>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <font size="2.9">

<h4 id="1-虚拟机的安装"><a href="#1-虚拟机的安装" class="headerlink" title="1.虚拟机的安装"></a>1.虚拟机的安装</h4><p>参考这篇文章 做一些简单补充</p>
<p><img src="https://mp.weixin.qq.com/s/uFllernXiZHdd3fg4nwpYQ" alt="framwork"></p>
<p> 在官网下载好 Ubuntu20.04 桌面版系统镜像</p>
<img src="/2023/04/05/Android/android-system/640.webp" class="" title="img">

<p>VMware 新建虚拟机</p>
<blockquote>
<p>打开 VMware，菜单栏选择 文件 -&gt; 新建虚拟机 后，出现以下界面：</p>
</blockquote>
<img src="/2023/04/05/Android/android-system/641.webp" class="" title="img">

<blockquote>
<p>选择 自定义高级，然后点击 下一步，出现以下界面：</p>
</blockquote>
<img src="/2023/04/05/Android/android-system/642.webp" class="" title="img">

<blockquote>
<p>这里不用改，点击 下一步，出现以下界面：</p>
</blockquote>
<img src="/2023/04/05/Android/android-system/643.webp" class="" title="img">

<blockquote>
<p>选择 稍候安装操作系统，点击 下一步，出现以下界面：</p>
</blockquote>
<img src="/2023/04/05/Android/android-system/645.webp" class="" title="img">

<blockquote>
<p>然后选择 虚拟机位置。</p>
</blockquote>
<blockquote>
<p>设置处理器，内存等 也可以后面设置</p>
</blockquote>
<blockquote>
<p>安装Ubuntu 这里选择英文</p>
</blockquote>
<h4 id="2-开发环境搭建"><a href="#2-开发环境搭建" class="headerlink" title="2. 开发环境搭建"></a>2. 开发环境搭建</h4><blockquote>
<p>安装好系统后需要安装必要的软件：</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sudo apt-get install git-core gnupg flex bison build-essential zip curl zlib1g-dev gcc-multilib g++-multilib libc6-dev-i386 libncurses5 lib32ncurses5-dev x11proto-core-dev libx11-dev lib32z1-dev libgl1-mesa-dev libxml2-utils xsltproc unzip fontconfig python</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-下载源码"><a href="#3-下载源码" class="headerlink" title="3. 下载源码"></a>3. 下载源码</h4><blockquote>
<p>下载repo 工具</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mkdir ~/bin</span><br><span class="line">curl https://mirrors.tuna.tsinghua.edu.cn/git/git-repo -o ~/bin/repo</span><br><span class="line">chmod +x ~/bin/repo</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>repo 的运行过程中会尝试访问官方的 git 源更新自己，如果想使用 tuna 的镜像源进行更新，可以将如下内容复制到你的 ~/.bashrc 或者 ~/.zshrc 里。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> REPO_URL=<span class="string">&#x27;https://mirrors.tuna.tsinghua.edu.cn/git/git-repo&#x27;</span></span><br><span class="line">PATH=~/bin:<span class="variable">$PATH</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>初始化仓库并同步远程代码</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email <span class="string">&quot;you@example.com&quot;</span></span><br><span class="line">git config --global user.name <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">mkdir aosp </span><br><span class="line"><span class="built_in">cd</span> asop</span><br><span class="line"><span class="comment">#初始化仓库,-b 指示分支，这里使用 android10</span></span><br><span class="line">repo init -u https://mirrors.tuna.tsinghua.edu.cn/git/AOSP/platform/manifest -b android-10.0.0_r41</span><br><span class="line"><span class="comment">#同步远程代码</span></span><br><span class="line">repo sync</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>-b 后面的值参考源代码标记和 build。这里选用了 android-10.0.0_r41 版本用于学习。Android 每年都会更新一个大版本，学习的角度来说，选择一个不太老的版本即可，不必追新</p>
<blockquote>
<p>编译源码</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">source</span> build/envsetup.sh</span><br><span class="line">lunch aosp_x86_64-eng</span><br><span class="line">make -j16  内存小了容易出错</span><br><span class="line"></span><br><span class="line">make </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>报exit 1 错误： 扩张swap 分区，ubuntu 默认分配的是2G，挂载20GB</p>
<blockquote>
<p>运行模拟器</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">emulator -verbose -cores 4 -show-kernel</span><br><span class="line"></span><br><span class="line">emulator -verbose</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="从一个简单的实际开发需求体验-Framework-开发"><a href="#从一个简单的实际开发需求体验-Framework-开发" class="headerlink" title="从一个简单的实际开发需求体验 Framework 开发"></a>从一个简单的实际开发需求体验 Framework 开发</h4><blockquote>
<p>需求：去掉原生 Launcher 中的 google 搜索栏。</p>
</blockquote>
<p>很多产品，比如用于仓库，电商，物流的 pda 等，更多的是考虑功能性和稳定性，UI 的美观和易用性是其次的。这些产品一般是不会重新开发和定制 Launcher 的，但是会对 Launcher 做一些修改，比如一个常见的需求是：去掉原生 Launcher 中的 google 搜索栏。<br>由于众所周知的原因 google 搜索栏在中国是没有办法使用的。在中国销售的产品，肯定是要把它去掉的。</p>
<blockquote>
<p>第一步：修改文件 packages/apps/Launcher3/res/layout/search_container_workspace.xml，将以下内容注释掉：</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;!-- &lt;fragment</span><br><span class="line">    android:name=<span class="string">&quot;com.android.launcher3.qsb.QsbContainerView<span class="variable">$QsbFragment</span>&quot;</span></span><br><span class="line">    android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">    android:tag=<span class="string">&quot;qsb_view&quot;</span></span><br><span class="line">    android:layout_height=<span class="string">&quot;match_parent&quot;</span>/&gt; --&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>第二步：修改文件：packages/apps/Launcher3/src/com/android/launcher3/Workspace.java 将以下内容注释掉：</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// CellLayout.LayoutParams lp = new CellLayout.LayoutParams(0, 0, firstPage.getCountX(), 1);</span><br><span class="line">// lp.canReorder = <span class="literal">false</span>;</span><br><span class="line">// <span class="keyword">if</span> (!firstPage.addViewToCellLayout(qsb, 0, R.id.search_container_workspace, lp, <span class="literal">true</span>)) &#123;</span><br><span class="line">//     Log.e(TAG, <span class="string">&quot;Failed to add to item at (0, 0) to CellLayout&quot;</span>);</span><br><span class="line">// &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>第三步：重新编译源码，启动模拟器:(因为有编译缓存，重新编译速度比较快)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">emulator</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</font>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/02/08/Docker/docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="andy">
      <meta itemprop="description" content="stay hungry,stay foolish(进取源自保持饥饿，成功在于守住初心)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="andyFun">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/08/Docker/docker/" class="post-title-link" itemprop="url">docker</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-08 21:34:40" itemprop="dateCreated datePublished" datetime="2023-02-08T21:34:40+08:00">2023-02-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-02-28 23:41:28" itemprop="dateModified" datetime="2023-02-28T23:41:28+08:00">2023-02-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/docker/" itemprop="url" rel="index"><span itemprop="name">docker</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <font size="2.9">

<h5 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h5><blockquote>
<p>首先我们使用 docker ps -a 命令查看本机所有的容器。</p>
</blockquote>
<blockquote>
<p>启动</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> docker run my/python:v1 cal <span class="comment">##my/python:v1为镜像名和标签  cal 日历</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">## 我们还可以通过指定参数，启动一个bash交互终端。</span></span><br><span class="line">docker run -it my/python:v1 /bin/bash</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<blockquote>
<p>stop docker</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">docker stop my/python:v1  </span><br></pre></td></tr></table></figure>


<blockquote>
<p>导出镜像</p>
</blockquote>
<p>使用 docker export 命令根据容器 ID 将镜像导出成一个文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">docker <span class="built_in">export</span> f299f501774c &gt; hangger_server.tar</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>导入镜像</p>
</blockquote>
<p>使用 docker import 命令则可将这个镜像文件导入进来。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">docker import - new_hangger_server &lt; hangger_server.tar</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>查看本机的容器</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">docker  images</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h5 id="save-and-load"><a href="#save-and-load" class="headerlink" title="save and load"></a>save and load</h5><p>1，保存镜像<br>  下面使用 docker save 命令根据 ID 将镜像保存成一个文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">docker save 0fdf2b4c26d3 &gt; save_hangge_server.tar</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p> 我们还可以同时将多个 image 打包成一个文件，比如下面将镜像库中的 postgres 和 mongo 打包：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">docker save -o images.tar postgres:9.6 mongo:3.4</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>2，载入镜像</p>
<pre><code>使用 docker load 命令则可将这个镜像文件载入进来。
</code></pre>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">docker load &lt; save_hangge_server.tar</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>两种方法不可混用。启动容器会报错  import 和 save </code></p>
<h5 id="使用load-数据丢失了-待查。。"><a href="#使用load-数据丢失了-待查。。" class="headerlink" title="使用load 数据丢失了 待查。。"></a>使用load 数据丢失了 待查。。</h5><h5 id="误删除-重新配置了"><a href="#误删除-重新配置了" class="headerlink" title="误删除 重新配置了"></a>误删除 重新配置了</h5><ol>
<li>权限问题 </li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">chmod 777 .</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>pytest + allure + jenkins + docker</li>
</ol>
<blockquote>
<p>jenkins 容器 安装 allure 设置环境变量 export path=/var/jenkins_home/allure/bin:$PATH<br>source 无法使用</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">RUN /bin/bash -c <span class="string">&quot;source ~/.bashrc&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>jenkins web插件安装  和 全局配置 容器中路径</p>
</blockquote>
<blockquote>
<p>pip3 install pytest-allure</p>
</blockquote>
<font/>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/10/16/Cocos/Cocos-creator-3-6-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="andy">
      <meta itemprop="description" content="stay hungry,stay foolish(进取源自保持饥饿，成功在于守住初心)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="andyFun">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/16/Cocos/Cocos-creator-3-6-1/" class="post-title-link" itemprop="url">Cocos_creator_3.6.1</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-10-16 22:45:26" itemprop="dateCreated datePublished" datetime="2022-10-16T22:45:26+08:00">2022-10-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-02-28 23:39:03" itemprop="dateModified" datetime="2023-02-28T23:39:03+08:00">2023-02-28</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>795</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <font size="2.9">

<h4 id="cocos"><a href="#cocos" class="headerlink" title="cocos"></a>cocos</h4><ol>
<li><a target="_blank" rel="noopener" href="https://docs.cocos.com/creator/manual/zh/getting-started/first-game/">cocos</a></li>
<li>使用TypeScript</li>
<li>保存玩，回到编辑器页面刷新</li>
<li>开发小游戏</li>
</ol>
<h4 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="keyword">import</span> &#123; _decorator, Component, Vec3, input, Input, EventMouse, Animation, SkeletalAnimation &#125; <span class="keyword">from</span> <span class="string">&#x27;cc&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> &#123; ccclass, property &#125; = _decorator;</span><br><span class="line"></span><br><span class="line"><span class="meta">@ccclass</span>(<span class="string">&quot;PlayerController&quot;</span>)</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">PlayerController</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    start () &#123;</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="function"><span class="title">update</span>(<span class="params">deltaTime: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//都是组件 和Unity 相似</span></span><br><span class="line"><span class="comment">//cc.sys 系统类 判断手机 或者浏览器</span></span><br><span class="line"><span class="comment">//input.on(Input.EventType.MOUSE_UP, this.onMouseUp, this); 鼠标监听</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//手机滑动监听  input.on(Input.EventType.TOUCH_START,this.onTouchStar,this);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//this._deltaPos.x = this._curJumpSpeed * deltaTime; 距离= 速度*时间</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="项目"><a href="#项目" class="headerlink" title="项目"></a>项目</h4><ol>
<li>assets 目录下放资源</li>
<li>Animations ,Prefabs,Scenes,Scripts</li>
</ol>
<h4 id="cocos2dx-4-0"><a href="#cocos2dx-4-0" class="headerlink" title="cocos2dx-4.0"></a>cocos2dx-4.0</h4><pre><code>cocos new -p com.test  -l cpp Test

cocos run -d androd 
</code></pre>
</font>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">andy</p>
  <div class="site-description" itemprop="description">stay hungry,stay foolish(进取源自保持饥饿，成功在于守住初心)</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">67</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">50</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>
<script type="text/javascript" id="clustrmaps" src="//clustrmaps.com/map_v2.js?d=7i_mI2oW-GRhD-wvrpG2CyYvf2FS2pi1oS1V7WGva4g&cl=ffffff&w=a"></script>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">andy</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">216k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">3:16</span>
</div><script color="0,0,255" opacity="0.5" zIndex="-1" count="99" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
